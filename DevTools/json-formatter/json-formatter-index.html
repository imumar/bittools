<!doctype html>
<html lang="en">

<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8636015392000586"
        crossorigin="anonymous"></script>
    <!-- Primary Meta Tags -->
    <title>JSON Formatter Online ‚Äì Free, Fast & Private | BitTools</title>
    <meta name="title" content="JSON Formatter Online ‚Äì Free, Fast & Private | BitTools">
    <meta name="description"
        content="Format, minify, and validate JSON instantly. 100% client-side, secure, and private. Free developer tool by BitTools.">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.bittools.cc/dev/json-formatter">
    <meta property="og:title" content="JSON Formatter Online ‚Äì Free, Fast & Private | BitTools">
    <meta property="og:description"
        content="Format, minify, and validate JSON instantly. 100% client-side, secure, and private. Free developer tool by BitTools.">
    <meta property="og:image" content="https://bittools.cc/assets/bittoolsicon.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://www.bittools.cc/dev/json-formatter">
    <meta property="twitter:title" content="JSON Formatter Online ‚Äì Free, Fast & Private | BitTools">
    <meta property="twitter:description"
        content="Format, minify, and validate JSON instantly. 100% client-side, secure, and private. Free developer tool by BitTools.">
    <meta property="twitter:image" content="https://bittools.cc/assets/bittoolsicon.png">
    <script type="application/ld+json">
    {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
    {
    "@type": "Question",
    "name": "Is this JSON formatter safe to use?",
    "acceptedAnswer": {
    "@type": "Answer",
    "text": "Yes. The tool runs completely in your browser. No JSON data is uploaded or stored on any server, making it
    100% safe and private."
    }
    },
    {
    "@type": "Question",
    "name": "Can I use this tool for large JSON files?",
    "acceptedAnswer": {
    "@type": "Answer",
    "text": "Yes, you can use it for large JSON files. However, very large files may slow down your browser. For
    extremely heavy data processing, a desktop JSON editor may be better suited."
    }
    },
    {
    "@type": "Question",
    "name": "What is JSON formatting?",
    "acceptedAnswer": {
    "@type": "Answer",
    "text": "JSON formatting is the process of adding indentation and structure to raw JSON data so it‚Äôs easier to read,
    debug, and share. It also includes validation to check for errors and minification to reduce file size."
    }
    },
    {
    "@type": "Question",
    "name": "What is Online JSON formatter tool?",
    "acceptedAnswer": {
    "@type": "Answer",
    "text": "JSON formatter is an online tool from bittools which is used for the process of adding indentation and
    structuring raw JSON data so it‚Äôs easier to read, debug, and share. It also includes validation to check for errors
    and minification to reduce file size."
    }
    },
    {
    "@type": "Question",
    "name": "How do I use the JSON Formatter?",
    "acceptedAnswer": {
    "@type": "Answer",
    "text": "Paste your raw JSON into the input box, click 'Format JSON' to beautify, fix any highlighted errors, and
    use 'Minify JSON' to compress the data into a single line if needed."
    }
    }
    ],
    "publisher": {
    "@type": "Organization",
    "name": "BitTools",
    "url": "https://bittools.cc"
    }
    }
    </script>
    <!-- Standard jsonformatter -->
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/bittoolsicon.png">
    <link rel="icon" type="image/png" sizes="64x64" href="/assets/bittoolsicon.png">
    <link rel="icon" type="image/png" sizes="128x128" href="/assets/bittoolsicon.png">
    <link rel="icon" type="image/x-icon" href="/assets/bittool.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/bittoolsicon.png">

    <link rel="icon" href="/assets/bittool.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/assets/bittool.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/bittoolsicon.png">

    <!-- For Apple devices -->

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>JSON Formatter Online ‚Äì Free, Fast & Private | BitTools</title>
    <meta name="description"
        content="Format, minify, and validate JSON in your browser with BitTools. No data leaves your device. Fast, free, and private." />

    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://www.bittools.cc/dev/json-formatter" />
    <!-- Open Graph / Twitter (kept simple) -->
    <meta property="og:title" content="JSON Formatter Online ‚Äì Free, Fast & Private" />
    <meta property="og:description" content="Format, minify, validate JSON. 100% client-side." />
    <meta name="twitter:card" content="summary" />

    <style>
        :root {
            --bg: #0b0c0f;
            --panel: #12141a;
            --text: #e8edf2;
            --muted: #9aa7b4;
            --accent: #6bdcff;
            --danger: #ff6b6b;
            --ok: #7dffa0;
            --border: #1e232d;
            --shadow: 0 10px 25px rgba(0, 0, 0, .35);
        }

        /* Light theme variables ‚Äî applied to the body via data-theme="light" */
        [data-theme="light"] {
            --bg: #f1f8ed;
            /* full page background */
            --panel: #f9fafb;
            /* slightly off-white for cards */
            --text: #111827;
            /* dark main text */
            --muted: #374151;
            /* readable muted text */
            --accent: #0077ff;
            --danger: #c1121f;
            --ok: #059669;
            --border: #d1d5db;
        }

        html,
        body {
            height: 100%
        }

        body {
            margin: 0;
            background: var(--bg);
            color: var(--text);
            font: 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial;
            transition: background 0.25s ease, color 0.25s ease;
        }

        .container {
            max-width: 1200px;
            margin: auto;
            padding: 24px
        }

        header {
            display: flex;
            align-items: center;
            /* vertical alignment */
            gap: 16px;
            /* space between logo and text */
            margin-bottom: 16px;
            justify-content: flex-start;
            /* ensures text stays next to logo */
        }

        header img {
            width: 110px;
            height: 110px;
            border-radius: 24px;
            background: #12141a;
        }

        header .text h1 {
            font-size: clamp(1.5rem, 2rem, 2.2rem);
            margin: 0;
        }

        header .text p {
            margin: 4px 0 0 0;
        }


        header img:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 20px rgba(107, 220, 255, 0.4);
        }

        h1 {
            font-size: clamp(1.25rem, 1.6rem+1vw, 2rem);
            margin: 0
        }

        .muted {
            color: var(--muted)
        }

        .card {
            background: var(--panel);
            border: 1px solid var(--border);
            border-radius: 16px;
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            padding: 0;
            overflow: hidden
        }

        .toolbar {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            align-items: center;
            padding: 12px;
            border-bottom: 1px solid var(--border);
            background: transparent
        }

        .toolbar .spacer {
            flex: 1
        }

        .btn {
            appearance: none;
            border: 1px solid var(--border);
            background: transparent;
            color: var(--text);
            padding: 10px 12px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.16s ease
        }

        .btn:hover {
            border-color: var(--accent);
            background: rgba(107, 220, 255, 0.06)
        }

        .btn:active {
            transform: translateY(1px)
        }

        .btn.danger {
            border-color: transparent;
            background: var(--danger);
            color: #fff
        }

        .btn.ghost {
            background: transparent
        }

        .switch {
            display: inline-flex;
            gap: 8px;
            align-items: center
        }

        /* Editors grid: equal width columns */
        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            padding: 12px;
            align-items: stretch;
            /* ensures children stretch to equal height */
        }

        /* Make each column a flex container so children can fill height */
        .grid>div {
            display: flex;
            flex-direction: column;
            min-height: 420px;
        }

        /* Unified input/output styles using variables so theme affects both */
        #input,
        #output {
            flex: 1;
            box-sizing: border-box;
            min-height: 420px;
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
            font-size: 14px;
            line-height: 1.45;
            padding: 12px;
            margin: 0;
            border-radius: 12px;
            border: 1px solid var(--border);
            background: var(--panel);
            color: var(--text);
            resize: vertical;
            overflow: auto;
            white-space: pre-wrap;
            /* output behaves visually like textarea */
            word-break: break-word;
        }

        .btn,
        label.btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
            font-weight: 500;
            border-radius: 0.5rem;
            cursor: pointer;
            background: #374151;
            color: #fff;
            border: none;
            line-height: 1.25rem;
            transition: background 0.2s;
        }

        .btn:hover,
        label.btn:hover {
            background: #005fcc;
        }

        .btn.ghost,
        label.btn.ghost {
            background: transparent;
            color: var(--text);
            border: 1px solid var(--border);
        }

        /* Ensure native textarea uses the same look as pre */
        textarea {
            -webkit-font-smoothing: antialiased;
        }

        /* When light theme active, input/output inherit variables automatically */
        [data-theme="light"] #input,
        [data-theme="light"] #output {
            background: var(--panel);
            /* panel is off-white in light theme */
            color: var(--text);
            border-color: var(--border);
        }

        .status {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            align-items: center;
            justify-content: space-between;
            padding: 12px;
            border-top: 1px solid var(--border);
            background: transparent
        }

        .badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 10px;
            border-radius: 999px;
            border: 1px solid var(--border);
            transition: all 0.3s ease
        }

        .badge.ok {
            background: rgba(125, 255, 160, .06);
            border-color: rgba(125, 255, 160, .16);
            color: var(--ok)
        }

        .badge.err {
            background: rgba(255, 107, 107, .06);
            border-color: rgba(255, 107, 107, .16);
            color: var(--danger)
        }

        .help {
            margin-top: 18px;
            padding: 12px
        }

        details {
            background: var(--panel);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 14px;
            margin: 12px 0
        }

        details:hover {
            border-color: var(--accent)
        }

        summary {
            cursor: pointer;
            font-weight: 600
        }

        .footer-links {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            margin-top: 18px
        }

        .footer-links a {
            color: var(--accent);
            text-decoration: none;
            padding: 8px 12px;
            border-radius: 8px;
            transition: background 0.2s ease
        }

        .footer-links a:hover {
            background: rgba(107, 220, 255, 0.06)
        }

        .kbd {
            font-family: ui-monospace, monospace;
            border: 1px solid var(--border);
            padding: 2px 6px;
            border-radius: 6px;
            background: var(--panel)
        }

        /* Sticky ad-slot placed inside card footer */
        .ad-slot {
            margin: 0;
            border-top: 1px solid var(--border);
            background: linear-gradient(135deg, rgba(107, 220, 255, 0.04), rgba(125, 255, 160, 0.03));
            color: var(--muted);
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100px;
            padding: 16px;
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            clip-path: inset(100%);
            /* ‚úÖ ensures it's fully hidden */
            border: 0;
            white-space: nowrap;
        }

        .popup {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--panel);
            color: var(--text);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 12px 16px;
            display: none;
            /* ‚úÖ hidden by default */
            box-shadow: var(--shadow);
            z-index: 10000;
            /* stays above ad */
            align-items: center;
        }

        .popup.success {
            border-left: 4px solid var(--ok);
        }

        .popup.error {
            border-left: 4px solid var(--danger);
        }

        .popup-close {
            background: transparent;
            border: none;
            color: var(--text);
            font-size: 14px;
            margin-left: 8px;
            cursor: pointer;
        }



        @media (max-width: 768px) {
            .grid {
                grid-template-columns: 1fr;
                gap: 8px;
                padding: 10px
            }

            .grid>div:nth-child(2) {
                order: 2
            }

            .toolbar {
                gap: 6px;
                padding: 10px
            }

            .btn {
                padding: 8px 10px;
                font-size: 14px
            }
        }
    </style>
</head>

<body data-theme="dark">
    <div class="container">

        <header>
            <a href="/" title="BitTools Home">
                <img src="/assets/bittoolsicon.png" alt="BitTools Logo">
            </a>
            <div class="text">
                <h1>JSON Formatter <span class="muted">‚Äî by BitTools</span></h1>
                <p class="muted">Format, minify, and validate JSON. 100% client-side. No data leaves your browser.</p>
            </div>
        </header>



        <section class="card" aria-labelledby="toolHeading">
            <div class="toolbar">
                <strong id="toolHeading">Tool</strong>
                <button class="btn" id="formatBtn" title="Format (Ctrl/Cmd+Enter)">Format</button>
                <button class="btn" id="minifyBtn" title="Minify (Ctrl/Cmd+M)">Minify</button>
                <button class="btn" id="validateBtn">Validate</button>
                <button class="btn" id="copyBtn">Copy Output</button>
                <button class="btn" id="downloadBtn">Download .json</button>
                <label class="btn" for="fileInput" role="button">Upload‚Ä¶</label>

                <!-- <label class="btn ghost" for="fileInput">Upload‚Ä¶</label> -->
                <input id="fileInput" type="file" accept=".json,.txt,application/json" class="sr-only" />
                <div class="spacer"></div>
                <button class="btn danger" id="clearBtn" title="Clear (Esc)">Clear</button>
                <button class="btn" id="themeToggle" style="margin-left:8px;">üåô</button>
            </div>

            <!-- editors: equal width, equal height -->
            <div class="grid" id="grid">
                <div>
                    <label for="input" class="sr-only">Input JSON</label>
                    <textarea id="input" placeholder='Paste JSON here‚Ä¶'></textarea>
                </div>

                <div>
                    <label for="output" class="sr-only">Output JSON</label>
                    <pre id="output" aria-live="polite"></pre>
                </div>
            </div>

            <div class="status">
                <!-- <div id="statusBadge" class="badge">Waiting for input‚Ä¶</div> -->
                <div class="muted" id="metaInfo"></div>
            </div>

            <!-- Sticky ad-slot (inside card footer) -->
            <!-- <div class="ad-slot" id="adSlot">üí° Ad Space Available</div> -->
            <div class="ad-slot">
                <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-8636015392000586"
                    data-ad-slot="4469871545" data-ad-format="auto" data-full-width-responsive="true"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
        </section>

        <section class="help">
            <details>
                <summary><strong>How to use</strong></summary>
                <ol>
                    <li>Paste or type your raw JSON into the text box above.</li>
                    <li>Click <strong>Format JSON</strong> to beautify with proper indentation.</li>
                    <li>If your JSON has errors, the tool will highlight them so you can fix them.</li>
                    <li>Use <strong>Minify JSON</strong> to compress everything into a single line for smaller file
                        size.</li>
                    <li>Copy the formatted or minified JSON back into your project, API, or config file.</li>
                </ol>
            </details>
            <details>
                <summary><strong>About This Online JSON Formatter</strong></summary>
                <p>
                    This free <strong>online JSON formatter</strong> helps you quickly
                    beautify, validate, and minify JSON data. Whether you‚Äôre debugging APIs,
                    cleaning up unstructured data, or preparing JSON for production, this tool
                    makes your workflow faster and easier.
                </p>
                <p>
                    All formatting and validation is performed <strong>directly in your
                        browser</strong>. That means your data never leaves your device ‚Äî making
                    this JSON tool 100% secure and private.
                </p>
            </details>

            <p>üëâ Read More <a href="/blogs/json-formatter">Online JSON Formatter
                    by BitTools.cc</a>

            <section class="seo-content" style="margin-top:40px; line-height:1.6;">
                <h2>About JSON Formatting</h2>
                <p>
                    <strong>JSON (JavaScript Object Notation)</strong> is a lightweight format
                    used to exchange data between systems. Raw JSON often comes in a single
                    line, which makes it hard to read and debug. Formatting adds indentation
                    and structure so developers and analysts can easily understand the data.
                </p>
                <p>
                    In addition to beautifying, JSON formatting often includes
                    <strong>validation</strong> (checking for errors) and
                    <strong>minification</strong> (removing extra spaces and line breaks for
                    efficiency).
                </p>

                <h3>Why Use a JSON Formatter?</h3>
                <ul>
                    <li>üìå <strong>Beautify JSON</strong> ‚Äî make JSON readable with proper indentation.</li>
                    <li>üìå <strong>Validate JSON</strong> ‚Äî quickly check if your JSON is valid.</li>
                    <li>üìå <strong>Minify JSON</strong> ‚Äî compress JSON for faster API responses.</li>
                    <li>üìå <strong>Debug APIs</strong> ‚Äî paste API responses for easy inspection.</li>
                </ul>

                <h3>Frequently Asked Questions</h3>
                <h4>üîπ What is JSON formatting?</h4>
                <p>
                    JSON formatting is the process of structuring raw JSON data so it‚Äôs easier
                    to read, debug, and share. This tool adds indentation and highlights errors
                    if the JSON is invalid.
                </p>

                <h4>üîπ Is this JSON formatter safe to use?</h4>
                <p>
                    Yes. Unlike some online tools, this JSON formatter runs entirely in your
                    browser. No JSON data is uploaded or stored on any server.
                </p>

                <h4>üîπ Can I minify JSON?</h4>
                <p>
                    Absolutely. Use the ‚ÄúMinify JSON‚Äù option to compress JSON into a single
                    line, reducing file size for faster web and API performance.
                </p>

                <h4>üîπ What other developer tools are available?</h4>
                <p>
                    We will be adding more tools soon. keep an eye on the homepage for updates.
                    <!-- Along with this formatter, you can try our other free tools like
                    <a href="/jwt-decoder">JWT Decoder</a>,
                    <a href="/csv-to-json">CSV to JSON Converter</a>, and
                    <a href="/url-encoder-decoder">URL Encoder/Decoder</a>. -->
                </p>

                <h3>About BitTools</h3>
                <p>
                    This JSON Formatter is part of <strong>BitTools.cc</strong> ‚Äî a free hub
                    of simple online utilities for developers, students, and data enthusiasts.
                    No tracking ‚Äî just fast, useful tools.
                </p>
            </section>
                <div id="all-tools-container"></div>


            <!-- <div class="footer-links">
                <a href="/jwt-decoder">JWT Decoder</a>
                <a href="/csv-to-json">CSV ‚Üí JSON</a>
                <a href="/url-encoder">URL Encoder</a>
            </div> -->
        </section>
    </div>
    <div id="bottomAd" class="bottom-ad" style="display:none;">
        <span class="ad-label">Advertisement</span>
        <div class="ad-slot">
            <!-- Adsense ad unit -->
            <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-8636015392000586"
                data-ad-slot="4241327753" data-ad-format="auto" data-full-width-responsive="true"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
        <button id="closeBottomAd" class="close-ad">√ó</button>
    </div>


    <!-- ‚úÖ Popup -->
    <div id="popup" class="popup">
        <span id="popupMessage"></span>
        <button id="popupClose" class="popup-close">‚úñ</button>
    </div>
    <style>
        .bottom-ad {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--panel);
            border-top: 1px solid var(--border);
            box-shadow: 0 -1px 4px rgba(0, 0, 0, 0.08);
            padding: 0.25rem 0.75rem;
            /* smaller padding */
            display: flex;
            align-items: center;
            justify-content: space-between;
            z-index: 9999;
            font-size: 0.75rem;
            /* smaller text */
        }

        .bottom-ad .ad-label {
            font-size: 0.7rem;
            font-weight: 600;
            color: var(--muted);
            margin-right: 0.5rem;
        }

        .bottom-ad .ad-slot {
            flex: 1;
            text-align: center;
        }

        .bottom-ad .close-ad {
            background: transparent;
            border: none;
            font-size: 1rem;
            /* smaller √ó */
            line-height: 1;
            cursor: pointer;
            color: var(--muted);
            margin-left: 0.5rem;
            padding: 0;
        }

        .bottom-ad .close-ad:hover {
            color: var(--text);
        }
    </style>
    <script>
        class JSONFormatter {
            constructor() {
                this.input = document.getElementById('input');
                this.output = document.getElementById('output');
                this.statusBadge = document.getElementById('statusBadge');
                this.metaInfo = document.getElementById('metaInfo');
                this.themeToggle = document.getElementById('themeToggle');

                this.initEventListeners();
                this.loadTheme();
            }

            initEventListeners() {
                document.getElementById('formatBtn').addEventListener('click', () => this.format());
                document.getElementById('minifyBtn').addEventListener('click', () => this.minify());
                document.getElementById('validateBtn').addEventListener('click', () => this.validate());
                document.getElementById('copyBtn').addEventListener('click', () => this.copyOutput());
                document.getElementById('downloadBtn').addEventListener('click', () => this.download());
                document.getElementById('clearBtn').addEventListener('click', () => this.clear());
                document.getElementById('fileInput').addEventListener('change', (e) => this.handleFileUpload(e));
                // document.getElementById('bottomAd').addEventListener('click', () => this.showBottomAd());
                document.getElementById("closeBottomAd").addEventListener("click", () => this.closeBottomAd());

                this.themeToggle.addEventListener('click', () => this.toggleTheme());


                document.addEventListener('keydown', (e) => this.handleKeyboard(e));
                this.input.addEventListener('input', () => this.updateStatus());
            }

            format() {
                const text = this.input.value.trim();
                if (!text) { this.showPopup('Empty input', 'err'); return; }
                try {
                    const parsed = JSON.parse(text);
                    const formatted = JSON.stringify(parsed, null, 2);
                    this.output.textContent = formatted;
                    this.showPopup('Formatted successfully', 'ok');
                    this.updateMeta(formatted);

                    this.showBottomAd();
                } catch (error) {
                    this.showPopup(`Invalid JSON: ${error.message}`, 'err');

                    // this.updateStatus(`Invalid JSON: ${error.message}`, 'err');
                    this.output.textContent = '';
                    this.showBottomAd();
                }
            }
      showBottomAd() { document.getElementById("bottomAd").style.display = "flex"; }

            minify() {
                const text = this.input.value.trim();
                if (!text) { this.showPopup('Empty input', 'err'); return; }
                try {
                    const parsed = JSON.parse(text);
                    const minified = JSON.stringify(parsed);
                    this.output.textContent = minified;
                    this.showPopup('Minified successfully', 'ok');
                    this.updateMeta(minified);
                    this.showBottomAd();

                } catch (error) {
                    this.showPopup(`Invalid JSON: ${error.message}`, 'err');
                    this.output.textContent = '';
                    this.showBottomAd();

                }
            }

            validate() {
                const text = this.input.value.trim();
                if (!text) { this.showPopup('Empty input', 'err'); return; }
                try {
                    JSON.parse(text);
                    this.showPopup('‚úì Valid JSON', 'ok');
                    this.updateMeta(text);
                    this.showBottomAd();

                } catch (error) {
                    this.showPopup(`‚úó Invalid JSON: ${error.message}`, 'err');
                    this.showBottomAd();

                }
            }

            copyOutput() {
                const text = this.output.textContent;
                if (!text) { this.showPopup('Nothing to copy', 'err'); return; }
                navigator.clipboard.writeText(text).then(() => {
                    this.showPopup('Copied to clipboard!', 'ok');
                    this.showBottomAd();

                    setTimeout(() => this.showPopup(), 2000);

                }).catch(() => this.showPopup('Copy failed', 'err'));
            }

            download() {
                const text = this.output.textContent;
                if (!text) { this.showPopup('Nothing to download', 'err'); return; }
                const blob = new Blob([text], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url; a.download = 'formatted.json'; document.body.appendChild(a); a.click(); document.body.removeChild(a);
                URL.revokeObjectURL(url);
                this.showPopup('Downloaded!', 'ok');
                this.showBottomAd();

                setTimeout(() => this.showPopup(), 2000);

            }

            clear() {
                this.input.value = ''; this.output.textContent = ''; this.updateStatus(); this.metaInfo.textContent = ''; this.input.focus();
            }

            handleFileUpload(event) {
                const file = event.target.files[0];
                if (!file) return;
                const reader = new FileReader();
                reader.onload = (e) => { this.input.value = e.target.result; this.updateStatus(); };
                reader.readAsText(file);
            }

            handleKeyboard(event) {
                if ((event.ctrlKey || event.metaKey) && event.key === 'Enter') { event.preventDefault(); this.format(); }
                else if ((event.ctrlKey || event.metaKey) && event.key.toLowerCase() === 'm') { event.preventDefault(); this.minify(); }
                else if (event.key === 'Escape') { event.preventDefault(); this.clear(); }
            }

            // updateStatus(message = 'Waiting for input‚Ä¶', type = '') {
            //     this.statusBadge.textContent = message;
            //     this.statusBadge.className = `badge ${type}`;
            // }

            updateMeta(text) {
                if (!text) { this.metaInfo.textContent = ''; return; }
                const lines = text.split('\n').length;
                const chars = text.length;
                const bytes = new Blob([text]).size;
                this.metaInfo.textContent = `${lines} lines ‚Ä¢ ${chars.toLocaleString()} chars ‚Ä¢ ${bytes.toLocaleString()} bytes`;
            }

            toggleTheme() {
                const current = document.body.dataset.theme === 'light' ? 'light' : 'dark';
                const next = current === 'dark' ? 'light' : 'dark';
                document.body.dataset.theme = next;
                this.themeToggle.textContent = next === 'dark' ? 'üåô' : '‚òÄÔ∏è';
                localStorage.setItem('json-formatter-theme', next);
            }

            loadTheme() {
                const saved = localStorage.getItem('json-formatter-theme') || 'dark';
                document.body.dataset.theme = saved;
                this.themeToggle.textContent = saved === 'dark' ? 'üåô' : '‚òÄÔ∏è';
            }

            showBottomAd() {
                document.getElementById("bottomAd").style.display = "flex";
            }
            closeBottomAd() {
                document.getElementById("bottomAd").style.display = "none";
            }

            showPopup(message, type = "success") {
                const popup = document.getElementById("popup");
                const popupMessage = document.getElementById("popupMessage");
                const closeBtn = document.getElementById("popupClose");

                if (!popup || !popupMessage || !closeBtn) {
                    console.warn("Popup elements not found yet");
                    return;
                }

                popupMessage.textContent = message;
                popup.className = "popup " + type;
                popup.style.display = "flex";

                // auto hide after 3s
                setTimeout(() => {
                    popup.style.display = "none";
                }, 3000);

                // close button
                closeBtn.onclick = () => {
                    popup.style.display = "none";
                };
            }



        }

        // Initialize the app
        document.addEventListener('DOMContentLoaded', () => new JSONFormatter());
    </script>




    

    <script src="/assets/include.js"></script>
    <script src="/assets/footer.js"></script>


</body>

</html>